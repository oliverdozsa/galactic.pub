<div class="flex justify-center">
  <fieldset class="fieldset w-full bg-base-200 border border-base-300 p-4 rounded-box">
    <legend class="fieldset-legend">Dates</legend>

    <label class="fieldset-label">Start date</label>
    <input [(ngModel)]="startDate" type="datetime-local" class="input w-full" [class.input-error]="!isStartDateValid"
           [class.input-success]="isStartDateValid"/>
    <div *ngIf="!isStartDateValid" class="text-error">{{ startDateValidationHint }}</div>

    <label class="fieldset-label mt-2">End date</label>
    <input [(ngModel)]="endDate" type="datetime-local" class="input w-full" [class.input-error]="!isEndDateValid"
           [class.input-success]="isEndDateValid" required/>
    <div *ngIf="!isEndDateValid" class="text-error">{{ endDateValidationHint }}</div>

    <div class="flex flex-row gap-x-4 mt-2">
      <div>
        <label class="fieldset-label">Encrypt voting</label>
        <label class="fieldset-label">
          <input [(ngModel)]="shouldEncrypt" type="checkbox" checked="checked" class="checkbox"/>
          Encrypt?
        </label>
      </div>
      <div class="grow">
        <label class="fieldset-label">Encrypt until</label>
        <input [disabled]="!shouldEncrypt" [(ngModel)]="encryptedUntil" type="datetime-local"
               class="input w-full" [class.input-error]="shouldEncrypt && !isEncryptedUntilValid"
               [class.input-success]="shouldEncrypt && isEncryptedUntilValid"/>
        <div *ngIf="shouldEncrypt && !isEncryptedUntilValid" class="text-error">Encrypted until must be in the future.
        </div>
      </div>
    </div>
    <span class="fieldset-label">
      <div>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
               class="size-5">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"/>
        </svg>
      </div>

      <div>
        An encrypted voting's results are not available until the encryption expires. Use this if you want to prevent results to be seen before a given date.
      </div>
    </span>
  </fieldset>
</div>
